limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text())
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.2))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.1))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.1))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.1, vjust = -0.1))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.1, vjust = 0.1))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.2, vjust = 0.3))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.3, vjust = 0.3))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.4, vjust = 0.3))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.35, vjust = 0.3))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.3, vjust = 0.4))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.3, vjust = 0.8))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.3, vjust = 0.9))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.3, vjust = 0.9))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
# years <- seq(1800,1815, by = 1)
label = seq(0,1,by=.2)
for (i in years) {
df <- py$dfyears(i)
ggtern(df, aes(x = df$Politics, y = df$Religion, z = df$Science)) +
geom_tri_tern(bins=5,aes(fill=..stat.., value=df$Percentile),fun=mean) +
stat_tri_tern(bins=5,fun=mean, geom= 'point',
aes(size=..count..,value=df$Percentile),
color="white",centroid=TRUE) +
labs(x = "Political \n Economy", y = "Religion", z = "Science", title=i, fill="Percentile", size="Volumes") +
#  scale_fill_gradient(low="blue", high="red", na.value="white") +    #Uncomment for red/blue theme
# scale_fill_gradient(low="blue", high="red", na.value="white", limits = c(0,1)) + #Uncomment for red/blue theme with full gradient scale
# scale_fill_gradient(low="#56B1F7",high="#132B43", na.value="white",limits=c(0,1))+ #Uncomment for blue theme with full percentile gradient scale
# scale_fill_gradient(low = "#56B1F7",high="#132B43", na.value="white")+#Uncomment for blue theme
scale_fill_gradient(low = "#56c7f7",high="#132B43", na.value="white", limits = c(opt_min, opt_max))+#Lighter blue
scale_size_continuous(range = c(0,10),
limits = c(num_min, num_max),
breaks = c(10, 100, 1000, 2500, 5000, 8000, 12500)) + #Set limits and breaks of volume dots
scale_T_continuous(limits=c(0,1.0),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_L_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label) +
scale_R_continuous(limits=c(0.0,1),
breaks=seq(0,1,by=0.2),
labels=label)+
theme_dark()+
guides(size= guide_legend(reverse=TRUE, order = 0))+
theme(tern.axis.title.R = element_text(hjust=0.6), tern.axis.title.L = element_text(hjust = 0.3, vjust = 0.9))
path <- sprintf("../output/triangles/%s.png", i)
ggsave(path, width = 6.5, height = 4.5)
}
